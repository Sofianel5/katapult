{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Katapult</title>

    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- tags for creating tab icon -->
    {% block head %} {% endblock %}
    <!-- Load in css -->
    <link href="{% static 'main/styles.css' %}" rel="stylesheet" />
    <script src="{% static 'main/particles.min.js' %}"></script>
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Red+Hat+Text:400,500,700&display=swap" rel="stylesheet">
    <!-- TODO: Optimize for search engines -->

</head>
<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">

<body>
    <header class="justify start-row-flex">
        <div class="start-row-flex">
            <a href="/" style="color: black; text-decoration: none" class="start-row-flex">
                <img class="logo" src="{% static 'main/long-logo-white.svg' %}">
            </a>
        </div>
        <div class="end-row-flex">
        </div>
    </header>
    <div class="body-root" id="feature-3">
        <div class="center-row-flex">
            <h1 class="splash-title" style="margin-top: 15vh; color: white; width: auto">
                Katapult is here to revolutionize outdoor advertising.
            </h1>
        </div>
        <div class="center-row-flex">
            <h2 class="splash-title" style="width: auto;">
                The evolution of outdoor advertising for the digital age.
            </h2>
        </div>
        <div class="center-row-flex">
            <h2 class="splash-title" style="width: auto;">
                Express interest
            </h2>
        </div>
        <div class="center-row-flex">
            <h2 class="splash-title" id="title" style="width: auto;">
            </h2>
        </div>
        <div class="center-row-flex">
            <form class="column-start-flex" action="https://api.tracery.us/api/katapult/interest/" method="POST">
                <input id="email" type="email" name="email" placeholder="Email" required>
                <input id="address" type="text" placeholder="Address" name="address" required>
                <div class="hunned-width center-row-flex">
                    <div id="submitbtn" class="nav-button" style="background-color: #00c2cc; border: none; width: 13vw; text-align: center; margin-top: 5vh">Request</div>
                </div>
            </form>
        </div>
    </div>
    <script>
    document.querySelector('#submitbtn').onclick = function () {
        var validity = true
        email = document.getElementById('email').value
        address = document.getElementById('address').value
        if (email == "") {
            validity = false
            document.getElementById('email').style.borderColor = "#c30f0f"
        }
        if (address == "") {
            validity = false
            document.getElementById('address').style.borderColor = "#c30f0f"
        }
        if (validity) {
            var request = new XMLHttpRequest()
            request.open("POST", "https://api.tracery.us/api/katapult/interest/")
            request.onload = function() {
                print(request.body)
                if (request.status == 200) {
                    document.getElementById("title").innerHTML = "Success!"
                } else {
                    document.getElementById("title").innerHTML = "Failed. Try again."
                }
            }
            request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            request.send('name=' + name + "&address=" + address )
            document.getElementById("title").innerHTML = "Sending..."
        }

    }
    </script>

    
</body>

</html>
